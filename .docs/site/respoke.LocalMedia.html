<!-- Copyright 2014, Digium, Inc.--><!-- All rights reserved.--><!----><!-- This source code is licensed under The MIT License found in the--><!-- LICENSE file in the root directory of this source tree.--><!----><!-- For all details and documentation:  https://www.respoke.io--><!DOCTYPE html><html><head><title>respoke/localMedia.js - respoke.LocalMedia</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"><link rel="stylesheet" href="https://highlightjs.org/static/styles/github.css"><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script src="https://highlightjs.org/static/highlight.pack.js"></script><style type="text/css">#navi { z-index: 1000; max-height: 99%; overflow-y: auto; overflow-x: hidden; }
#navi .nav>li>a { padding: 3px 15px; display: inline-block; }
#navi.show { max-height: 400px; }
#navi.show #menu { background: #fff; border: 1px solid #ccc; border-radius: 5px; padding: 8px; display: block!important; }
.wrap { word-break: break-all; }</style></head><body style="position:relative" data-spy="scroll" data-target="#navi"><div id="navi" class="affix col-sm-3"><button onclick="$('#navi').toggleClass('show')" class="btn btn-default visible-xs">Menu</button><div id="menu" class="hidden-xs"><br class="hidden-xs"><ul role="tablist" class="nav nav-pills nav-stacked"><li>Properties &amp; Methods</li><li><a href="#respoke-LocalMedia">respoke.LocalMedia</a></li><li><a href="#id">id</a></li><li><a href="#element">element</a></li><li><a href="#stream">stream</a></li><li><a href="#getAudioTracks">getAudioTracks</a></li><li><a href="#getVideoTracks">getVideoTracks</a></li><li><a href="#isVideoMuted">isVideoMuted</a></li><li><a href="#muteVideo">muteVideo</a></li><li><a href="#unmuteVideo">unmuteVideo</a></li><li><a href="#isAudioMuted">isAudioMuted</a></li><li><a href="#muteAudio">muteAudio</a></li><li><a href="#unmuteAudio">unmuteAudio</a></li><li><a href="#stop">stop</a></li><li><a href="#hasVideo">hasVideo</a></li><li><a href="#hasAudio">hasAudio</a></li><li><a href="#hasMedia">hasMedia</a></li><li><a href="#respoke">respoke</a></li><li>Events</li><li><a href="#event-respoke-LocalMedia-allow">allow</a></li><li><a href="#event-respoke-LocalMedia-requesting-media">requesting-media</a></li><li><a href="#event-respoke-LocalMedia-requesting-media">requesting-media</a></li><li><a href="#event-respoke-LocalMedia-requesting-media">requesting-media</a></li></ul></div></div><div id="header" role="navigation" class="nav navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><a href="/respoke" class="navbar-brand">Respoke.js</a><button id="file-menu" data-toggle="collapse" data-target="#navbar-links" class="navbar-toggle collapsed"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="navbar-links" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="respoke.Call.html">Call</a></li><li><a href="respoke.Client.html">Client</a></li><li><a href="respoke.Connection.html">Connection</a></li><li><a href="respoke.DirectConnection.html">DirectConnection</a></li><li><a href="respoke.Endpoint.html">Endpoint</a></li><li><a href="respoke.EventEmitter.html">EventEmitter</a></li><li><a href="respoke.Group.html">Group</a></li><li class="active"><a href="respoke.LocalMedia.html">LocalMedia</a></li><li><a href="respoke.Presentable.html">Presentable</a></li><li><a href="respoke.RemoteMedia.html">RemoteMedia</a></li><li><a href="respoke.MediaStats.html">MediaStats</a></li></ul></div></div></div><div class="col-sm-9 col-sm-offset-3"><br class="visible-xs"><h1>respoke.LocalMedia</h1><h5 class="help-block">from respoke/localMedia.js</h5><div id="respoke-LocalMedia" class="comment"><p><strong>extends&nbsp;<a href="respoke.EventEmitter.html"><code>respoke.EventEmitter</code></a></strong></p><div><p>A wrapper around the stream from <code>getUserMedia</code>,
which is attached to a call at <code>call.outgoingMedia</code>.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.instanceId</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">client id</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.callId</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">call id</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.constraints]</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.element</code></div><div class="col-sm-3 wrap"><small><strong>HTMLVideoElement</strong></small></div><div class="col-sm-5">Pass in an optional html video element to have local video attached to it.</div></div><br class="visible-xs"><br><br><h2>Properties and Methods</h2></div><div id="id" class="comment"><h3><code>string</code><a href="#id" class="bold">id</a></h3><div><p>Respoke media ID (different from a <code>MediaStream.id</code>).</p>
</div><br><br></div><div id="element" class="comment"><h3><code>HTMLVideoElement</code><a href="#element" class="bold">element</a></h3><div><p>The HTML element with video attached.</p>
</div><br><br></div><div id="stream" class="comment"><h3><code>RTCMediaStream</code><a href="#stream" class="bold">stream</a></h3><div><p>The local <code>MediaStream</code> from <code>getUserMedia()</code>.</p>
</div><br><br></div><div id="getAudioTracks" class="comment"><h3><code></code><a href="#getAudioTracks" class="bold">getAudioTracks</a></h3><div><p>Expose getAudioTracks.</p>
</div><br><br></div><div id="getVideoTracks" class="comment"><h3><code></code><a href="#getVideoTracks" class="bold">getVideoTracks</a></h3><div><p>Expose getVideoTracks.</p>
</div><br><br></div><div id="isVideoMuted" class="comment"><h3><a href="#isVideoMuted"><span class="bold">isVideoMuted()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Whether the video stream is muted.</p>
<p>All video tracks must be muted for this to return <code>false</code>.</p>
</div><br><br></div><div id="muteVideo" class="comment"><h3><a href="#muteVideo"><span class="bold">muteVideo()</span></a></h3><p><strong>fires</strong><code>mute</code></p><div><p>Mute local video stream.</p>
</div><br><br></div><div id="unmuteVideo" class="comment"><h3><a href="#unmuteVideo"><span class="bold">unmuteVideo()</span></a></h3><p><strong>fires</strong><code>mute</code></p><div><p>Unmute local video stream.</p>
</div><br><br></div><div id="isAudioMuted" class="comment"><h3><a href="#isAudioMuted"><span class="bold">isAudioMuted()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Whether the audio stream is muted.</p>
<p>All audio tracks must be muted for this to return <code>false</code>.</p>
</div><br><br></div><div id="muteAudio" class="comment"><h3><a href="#muteAudio"><span class="bold">muteAudio()</span></a></h3><p><strong>fires</strong><code>mute</code></p><div><p>Mute local audio stream.</p>
</div><br><br></div><div id="unmuteAudio" class="comment"><h3><a href="#unmuteAudio"><span class="bold">unmuteAudio()</span></a></h3><p><strong>fires</strong><code>mute</code></p><div><p>Unmute local audio stream.</p>
</div><br><br></div><div id="stop" class="comment"><h3><a href="#stop"><span class="bold">stop()</span></a></h3><p><strong>fires</strong><code>stop</code></p><div><p>Stop the stream.</p>
</div><br><br></div><div id="hasVideo" class="comment"><h3><a href="#hasVideo"><span class="bold">hasVideo()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Indicate whether we are sending video.</p>
</div><br><br></div><div id="hasAudio" class="comment"><h3><a href="#hasAudio"><span class="bold">hasAudio()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Indicate whether we are sending audio.</p>
</div><br><br></div><div id="hasMedia" class="comment"><h3><a href="#hasMedia"><span class="bold">hasMedia()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Indicate whether we have media yet.</p>
</div><br><br></div><div id="respoke" class="comment"><h3><a href="#respoke"><span class="bold">respoke()</span></a></h3><div><p>Copyright 2014, Digium, Inc.
All rights reserved.</p>
<p>This source code is licensed under The MIT License found in the
LICENSE file in the root directory of this source tree.</p>
<p>For all details and documentation:  <a href="https://www.respoke.io">https://www.respoke.io</a></p>
</div><br><br></div><br><br><h2>Events</h2><p>Listen for events on an instance of this class.</p><pre><code>LocalMedia
.listen(&quot;event-name&quot;, function (evt) {

})</code></pre><br><div id="event-respoke-LocalMedia-allow"><h3><code>event</code> <a href="#event-respoke-LocalMedia-allow" class="bold">allow</a></h3><div><p>The user has approved the request for media. Any UI changes made to remind the user to click Allow
should be canceled now. This event is the same as the <code>onAllow</code> callback.  This event gets fired
even if the allow process is automatic, i. e., permission and media is granted by the browser
without asking the user to approve it.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.LocalMedia</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-LocalMedia-requesting-media"><h3><code>event</code> <a href="#event-respoke-LocalMedia-requesting-media" class="bold">requesting-media</a></h3><div><p>The browser is asking for permission to access the User&#39;s media. This would be an ideal time
to modify the UI of the application so that the user notices the request for permissions
and approves it.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.LocalMedia</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-LocalMedia-requesting-media"><h3><code>event</code> <a href="#event-respoke-LocalMedia-requesting-media" class="bold">requesting-media</a></h3><div><p>Indicate there has been an error obtaining media.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.LocalMedia</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-LocalMedia-requesting-media"><h3><code>event</code> <a href="#event-respoke-LocalMedia-requesting-media" class="bold">requesting-media</a></h3><div><p>Indicate there has been an error obtaining media.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.LocalMedia</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><br><br><br><br><br><br><br><br><br><br><br></div><script>hljs.initHighlightingOnLoad();
$(document).on('scroll', setSidebarPosition);
$(window).on('resize', setSidebarPosition);
$('#file-menu').on('click', function () {
  setTimeout(setSidebarPosition, 350);
});
function setSidebarPosition() {
  var s = $(document).scrollTop();
  var h = $('#header').height();
  if (s < h) {
      $('#navi').css('top', ((h - s) + 8) + 'px');
  } else {
      $('#navi').css('top', '0');
  }
}
setSidebarPosition();</script></body></html>