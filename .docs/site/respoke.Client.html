<!-- Copyright 2014, Digium, Inc.--><!-- All rights reserved.--><!----><!-- This source code is licensed under The MIT License found in the--><!-- LICENSE file in the root directory of this source tree.--><!----><!-- For all details and documentation:  https://www.respoke.io--><!DOCTYPE html><html><head><title>respoke/client.js - respoke.Client</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"><link rel="stylesheet" href="https://highlightjs.org/static/styles/github.css"><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script src="https://highlightjs.org/static/highlight.pack.js"></script><style type="text/css">#navi { z-index: 1000; max-height: 99%; overflow-y: auto; overflow-x: hidden; }
#navi .nav>li>a { padding: 3px 15px; display: inline-block; }
#navi.show { max-height: 400px; }
#navi.show #menu { background: #fff; border: 1px solid #ccc; border-radius: 5px; padding: 8px; display: block!important; }
.wrap { word-break: break-all; }</style></head><body style="position:relative" data-spy="scroll" data-target="#navi"><div id="navi" class="affix col-sm-3"><button onclick="$('#navi').toggleClass('show')" class="btn btn-default visible-xs">Menu</button><div id="menu" class="hidden-xs"><br class="hidden-xs"><ul role="tablist" class="nav nav-pills nav-stacked"><li>Properties &amp; Methods</li><li><a href="#respoke-Client">respoke.Client</a></li><li><a href="#calls">calls</a></li><li><a href="#connect">connect</a></li><li><a href="#disconnect">disconnect</a></li><li><a href="#setPresence">setPresence</a></li><li><a href="#getCall">getCall</a></li><li><a href="#sendMessage">sendMessage</a></li><li><a href="#startCall">startCall</a></li><li><a href="#startAudioCall">startAudioCall</a></li><li><a href="#startVideoCall">startVideoCall</a></li><li><a href="#startPhoneCall">startPhoneCall</a></li><li><a href="#isConnected">isConnected</a></li><li><a href="#join">join</a></li><li><a href="#getGroups">getGroups</a></li><li><a href="#getGroup">getGroup</a></li><li><a href="#getEndpoint">getEndpoint</a></li><li><a href="#getConnection">getConnection</a></li><li><a href="#getEndpoints">getEndpoints</a></li><li><a href="#respoke">respoke</a></li><li>Events</li><li><a href="#event-respoke-Client-connect">connect</a></li><li><a href="#event-respoke-Client-error">error</a></li><li><a href="#event-respoke-Client-call">call</a></li><li><a href="#event-respoke-Client-direct-connection">direct-connection</a></li><li><a href="#event-respoke-Client-leave">leave</a></li><li><a href="#event-respoke-Client-message">message</a></li><li><a href="#event-respoke-Client-disconnect">disconnect</a></li><li><a href="#event-respoke-Client-reconnect">reconnect</a></li><li><a href="#event-respoke-Client-disconnect">disconnect</a></li><li><a href="#event-respoke-Client-join">join</a></li></ul></div></div><div id="header" role="navigation" class="nav navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><a href="/respoke" class="navbar-brand">Respoke.js</a><button id="file-menu" data-toggle="collapse" data-target="#navbar-links" class="navbar-toggle collapsed"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="navbar-links" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="respoke.Call.html">Call</a></li><li class="active"><a href="respoke.Client.html">Client</a></li><li><a href="respoke.Connection.html">Connection</a></li><li><a href="respoke.DirectConnection.html">DirectConnection</a></li><li><a href="respoke.Endpoint.html">Endpoint</a></li><li><a href="respoke.EventEmitter.html">EventEmitter</a></li><li><a href="respoke.Group.html">Group</a></li><li><a href="respoke.LocalMedia.html">LocalMedia</a></li><li><a href="respoke.Presentable.html">Presentable</a></li><li><a href="respoke.RemoteMedia.html">RemoteMedia</a></li><li><a href="respoke.MediaStats.html">MediaStats</a></li></ul></div></div></div><div class="col-sm-9 col-sm-offset-3"><br class="visible-xs"><h1>respoke.Client</h1><h5 class="help-block">from respoke/client.js</h5><div id="respoke-Client" class="comment"><p><strong>extends&nbsp;<a href="respoke.Presentable.html"><code>respoke.Presentable</code></a></strong></p><div><p><code>respoke.Client</code> is the top-level interface to the API. Interacting with Respoke should be done using
a <code>respoke.Client</code> instance.</p>
<p>There are two ways to get a client:</p>
<pre><code> var client = respoke.createClient(clientParams);
 // . . . set stuff up, then . . .
 client.connect(connectParams);
</code></pre><p>or</p>
<pre><code> // creates client and connects to Respoke all at once
 var client = respoke.connect(allParams);
</code></pre><p>A client does the following things:</p>
<ol>
<li>authentication with the Respoke API</li>
<li>receives server-side app-specific information</li>
<li>tracks connections and presence</li>
<li>provides methods to get and interact with tracked entities (like groups and endpoints)</li>
<li>stores default settings for calls and direct connections</li>
<li>automatically reconnects to the API when network activity is lost*</li>
</ol>
<p>*If <code>developmentMode</code> is set to true. If not using <code>developmentMode</code>, disable automatic
reconnect by sending <code>reconnect: false</code> and listening to the Client&#39;s disconnect event
to fetch a new brokered auth token, then call <code>client.connect()</code> with the new token.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.appId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The ID of your Respoke app. This must be passed either to
respoke.connect, respoke.createClient, or to client.connect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.token]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The endpoint's authentication token.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.endpointId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">An identifier to use when creating an authentication token for this
endpoint. This is only used when `developmentMode` is set to `true`.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.developmentMode=false]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">Indication to obtain an authentication token from the service.
Note: Your app must be in developer mode to use this feature. This is not intended as a long-term mode of
operation and will limit the services you will be able to use.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.presence=unavailable]</code></div><div class="col-sm-3 wrap"><small><strong>string, number, object, Array</strong></small></div><div class="col-sm-5">The initial presence to set once connected.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.reconnect=true]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">Whether or not to automatically reconnect to the Respoke service
when a disconnect occurs.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onJoin]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onJoin</strong></small></div><div class="col-sm-5">Callback for when this client's endpoint joins a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLeave]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onLeave</strong></small></div><div class="col-sm-5">Callback for when this client's endpoint leaves a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMessage]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onClientMessage</strong></small></div><div class="col-sm-5">Callback for when any message is received
from anywhere on the system.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onConnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onConnect</strong></small></div><div class="col-sm-5">Callback for Client connect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onDisconnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onDisconnect</strong></small></div><div class="col-sm-5">Callback for Client disconnect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onReconnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onReconnect</strong></small></div><div class="col-sm-5">Callback for Client reconnect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onCall]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onCall</strong></small></div><div class="col-sm-5">Callback for when this client's user receives a call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onDirectConnection]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onDirectConnection</strong></small></div><div class="col-sm-5">Callback for when this client's user
receives a request for a direct connection.</div></div><br class="visible-xs"><br><br><h2>Properties and Methods</h2></div><div id="calls" class="comment"><h3><code>array</code><a href="#calls" class="bold">calls</a></h3><div><p>Array of calls in progress, made accessible for informational purposes only.
<strong>Never modify this array directly.</strong></p>
</div><br><br></div><div id="connect" class="comment"><h3><a href="#connect"><span class="bold">connect(params)</span></a></h3><p><strong>returns<code>Promise|undefined</code></strong></p><p><strong>fires</strong><code>connect</code></p><div><p>Connect to the Respoke infrastructure and authenticate using <code>params.token</code>.</p>
<p>After <code>connect</code>, the app auth session token is stored so it can be used in API requests.</p>
<p>This method attaches quite a few event listeners for things like group joining and connection status changes.</p>
<h4 id="usage">Usage</h4>
<pre><code> client.connect({
     appId: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXXX&quot;,
     token: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXXX&quot;, // if not developmentMode
     developmentMode: false || true,
     // if developmentMode, otherwise your server will set endpointId
     endpointId: &quot;billy&quot;
 });
 client.listen(&quot;connect&quot;, function () { } );
</code></pre><p>If no <code>params.token</code> is given and <code>developmentMode</code> is set to true, it will attempt to obtain a token
automatically. You must set an <code>endpointId</code>.</p>
<h4 id="app-auth-session-token-expiration">App auth session token expiration</h4>
<p>If <code>params.reconnect</code> is set to true (which it is by default for <code>developmentMode</code>), the <code>client</code>
will attempt to keep reconnecting each time the app auth session expires.</p>
<p>If not using <code>developmentMode</code>, automatic reconnect will be disabled. You will need to
listen to the Client&#39;s <code>disconnect</code> event to fetch a new brokered auth token and call
<code>client.connect()</code> with the new token.</p>
<pre><code> client.listen(&#39;disconnect&#39;, function () {

     // example method you implemented to get a new token from your server
     myServer.getNewRespokeAccessToken(function (newToken) {
         // reconnect with respoke.Client
         client.connect({ token: newToken });
     });

 });
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onSuccess]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.connectSuccessHandler</strong></small></div><div class="col-sm-5">Success handler for this invocation
of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.errorHandler</strong></small></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.appId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The ID of your Respoke app. This must be passed either to
respoke.connect, respoke.createClient, or to client.connect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.token]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The endpoint's authentication token.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.endpointId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">An identifier to use when creating an authentication token for this
endpoint. This is only used when `developmentMode` is set to `true`.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.presence]</code></div><div class="col-sm-3 wrap"><small><strong>string, number, object, Array</strong></small></div><div class="col-sm-5">The initial presence to set once connected.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.resolveEndpointPresence]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.client.resolveEndpointPresence</strong></small></div><div class="col-sm-5">An optional function for
resolving presence for an endpoint. An endpoint can have multiple Connections this function will be used
to decide which Connection's presence gets precedence for the Endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.developmentMode=false]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">Indication to obtain an authentication token from the service.
Note: Your app must be in developer mode to use this feature. This is not intended as a long-term mode of
operation and will limit the services you will be able to use.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.reconnect=true]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">Whether or not to automatically reconnect to the Respoke service
when a disconnect occurs.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onJoin]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onJoin</strong></small></div><div class="col-sm-5">Callback for when this client's endpoint joins a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLeave]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onLeave</strong></small></div><div class="col-sm-5">Callback for when this client's endpoint leaves
a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMessage]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onClientMessage</strong></small></div><div class="col-sm-5">Callback for when any message is
received from anywhere on the system.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onConnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onConnect</strong></small></div><div class="col-sm-5">Callback for Client connect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onDisconnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onDisconnect</strong></small></div><div class="col-sm-5">Callback for Client disconnect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onReconnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onReconnect</strong></small></div><div class="col-sm-5">Callback for Client reconnect. Not Implemented.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onCall]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onCall</strong></small></div><div class="col-sm-5">Callback for when this client receives a call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onDirectConnection]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.onDirectConnection</strong></small></div><div class="col-sm-5">Callback for when this
client receives a request for a direct connection.</div></div><br class="visible-xs"><br><br></div><div id="disconnect" class="comment"><h3><a href="#disconnect"><span class="bold">disconnect(params)</span></a></h3><p><strong>returns<code>Promise|undefined</code></strong></p><p><strong>fires</strong><code>disconnect</code></p><div><p>Disconnect from the Respoke infrastructure, leave all groups, invalidate the token, and disconnect the websocket.
<strong>Using callbacks</strong> by passing <code>params.onSuccess</code> or <code>params.onError</code> will disable promises.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onSuccess]</code></div><div class="col-sm-3 wrap"><small><strong>disconnectSuccessHandler</strong></small></div><div class="col-sm-5">Success handler for this invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.errorHandler</strong></small></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><br><br></div><div id="setPresence" class="comment"><h3><a href="#setPresence"><span class="bold">setPresence(params)</span></a></h3><p><strong>returns<code>Promise|undefined</code></strong></p><div><p>Set the presence for this client.</p>
<p>The value of presence can be a string, number, object, or array - in any format -
depending on the needs of your application. The only requirement is that
<code>JSON.stringify()</code> must work (no circular references).</p>
<pre><code> var myPresence = &#39;At lunch&#39;
                 || 4
                 || { status: &#39;Away&#39;, message: &#39;At lunch&#39; }
                 || [&#39;Away&#39;, &#39;At lunch&#39;];

 client.setPresence({
     presence: myPresence,
     onSuccess: function (evt) {
         // successfully updated my presence
     }
 });
</code></pre><p><strong>Using callbacks</strong> by passing <code>params.onSuccess</code> or <code>params.onError</code> will disable promises.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.presence</code></div><div class="col-sm-3 wrap"><small><strong>string, number, object, array</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onSuccess]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.successHandler</strong></small></div><div class="col-sm-5">Success handler for this invocation of
this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.errorHandler</strong></small></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><br><br></div><div id="getCall" class="comment"><h3><a href="#getCall"><span class="bold">getCall(params)</span></a></h3><p><strong>returns<code>respoke.Call</code></strong></p><div><p>Get the Call with the endpoint specified.</p>
<pre><code>// hang up on chad
var call = client.getCall({
    endpointId: &#39;chad&#39;
});

if (call) {
    call.hangup()
}
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.id]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">Call ID.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.endpointId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">Endpoint ID. Warning: If you pass only the endpointId, this method
will just return the first call that matches. If you are placing multiple calls to the same endpoint,
pass in the call ID, too.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.create</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not to create a new call if the specified endpointId isn't found</div></div><br class="visible-xs"><br><br></div><div id="sendMessage" class="comment"><h3><a href="#sendMessage"><span class="bold">sendMessage(params)</span></a></h3><p><strong>returns<code>Promise|undefined</code></strong></p><div><p>Send a message to an endpoint.</p>
<pre><code>client.sendMessage({
    endpointId: &#39;dan&#39;,
    message: &quot;Jolly good.&quot;
});
</code></pre><p><strong>Using callbacks</strong> by passing <code>params.onSuccess</code> or <code>params.onError</code> will disable promises.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.endpointId</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The endpoint id of the recipient.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.connectionId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The optional connection id of the receipient. If not set, message will be
broadcast to all connections for this endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.message</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">a string message.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onSuccess]</code></div><div class="col-sm-3 wrap"><small><strong>sendHandler</strong></small></div><div class="col-sm-5">Success handler for this invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.errorHandler</strong></small></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><br><br></div><div id="startCall" class="comment"><h3><a href="#startCall"><span class="bold">startCall(params)</span></a></h3><p><strong>returns<code>respoke.Call</code></strong></p><div><p>Place an audio and/or video call to an endpoint.</p>
<pre><code>// defaults to video when no constraints are supplied
client.startCall({
    endpointId: &#39;erin&#39;,
    onConnect: function (evt) { },
    onLocalMedia: function (evt) { }
});
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.endpointId</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The id of the endpoint that should be called.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.constraints]</code></div><div class="col-sm-3 wrap"><small><strong>RTCConstraints</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.connectionId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLocalMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onLocalMedia</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onError</strong></small></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onConnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onConnect</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the remote audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAllow]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAllow</strong></small></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onHangup]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onHangup</strong></small></div><div class="col-sm-5">Callback for being notified when the call has been hung
up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMute]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onMute</strong></small></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAnswer]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAnswer</strong></small></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onApprove]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onApprove</strong></small></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onRequestingMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onRequestingMedia</strong></small></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onStats]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.MediaStatsParser.statsHandler</strong></small></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.receiveOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.sendOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.needDirectConnection]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">flag to enable skipping media &amp; opening direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.forceTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.disableTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.previewLocalMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.previewLocalMedia</strong></small></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.connectionId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The connection ID of the remoteEndpoint, if it is not desired to call
all connections belonging to this endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.videoLocalElement]</code></div><div class="col-sm-3 wrap"><small><strong>HTMLVideoElement</strong></small></div><div class="col-sm-5">Pass in an optional html video element to have local video attached to it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.videoRemoteElement]</code></div><div class="col-sm-3 wrap"><small><strong>HTMLVideoElement</strong></small></div><div class="col-sm-5">Pass in an optional html video element to have remote video attached to it.</div></div><br class="visible-xs"><br><br></div><div id="startAudioCall" class="comment"><h3><a href="#startAudioCall"><span class="bold">startAudioCall(params)</span></a></h3><p><strong>returns<code>respoke.Call</code></strong></p><div><p>Place an audio only call to an endpoint.</p>
<pre><code>client.startAudioCall({
    endpointId: &#39;erin&#39;,
    onConnect: function (evt) { },
    onLocalMedia: function (evt) { }
});
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.endpointId</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The id of the endpoint that should be called.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.connectionId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLocalMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onLocalMedia</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 element
with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onError</strong></small></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onConnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onConnect</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 element
with the remote audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAllow]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAllow</strong></small></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onHangup]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onHangup</strong></small></div><div class="col-sm-5">Callback for being notified when the call has been hung
up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMute]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onMute</strong></small></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAnswer]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAnswer</strong></small></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onApprove]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onApprove</strong></small></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onRequestingMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onRequestingMedia</strong></small></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onStats]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.MediaStatsParser.statsHandler</strong></small></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.receiveOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.sendOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.needDirectConnection]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">flag to enable skipping media &amp; opening direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.forceTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.disableTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.previewLocalMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.previewLocalMedia</strong></small></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.connectionId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The connection ID of the remoteEndpoint, if it is not desired to call
all connections belonging to this endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.videoLocalElement]</code></div><div class="col-sm-3 wrap"><small><strong>HTMLVideoElement</strong></small></div><div class="col-sm-5">Pass in an optional html video element to have local
video attached to it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.videoRemoteElement]</code></div><div class="col-sm-3 wrap"><small><strong>HTMLVideoElement</strong></small></div><div class="col-sm-5">Pass in an optional html video element to have remote
video attached to it.</div></div><br class="visible-xs"><br><br></div><div id="startVideoCall" class="comment"><h3><a href="#startVideoCall"><span class="bold">startVideoCall(params)</span></a></h3><p><strong>returns<code>respoke.Call</code></strong></p><div><p>Place a video call to an endpoint.</p>
<pre><code>client.startVideoCall({
    endpointId: &#39;erin&#39;,
    onConnect: function (evt) { },
    onLocalMedia: function (evt) { }
});
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.endpointId</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The id of the endpoint that should be called.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.connectionId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLocalMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onLocalMedia</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onError</strong></small></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onConnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onConnect</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the remote audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAllow]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAllow</strong></small></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onHangup]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onHangup</strong></small></div><div class="col-sm-5">Callback for being notified when the call has been hung
up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMute]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onMute</strong></small></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAnswer]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAnswer</strong></small></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onApprove]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onApprove</strong></small></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onRequestingMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onRequestingMedia</strong></small></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onStats]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.MediaStatsParser.statsHandler</strong></small></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.receiveOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.sendOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.needDirectConnection]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">flag to enable skipping media &amp; opening direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.forceTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.disableTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.previewLocalMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.previewLocalMedia</strong></small></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.connectionId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The connection ID of the remoteEndpoint, if it is not desired to call
all connections belonging to this endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.videoLocalElement]</code></div><div class="col-sm-3 wrap"><small><strong>HTMLVideoElement</strong></small></div><div class="col-sm-5">Pass in an optional html video element to have local
video attached to it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.videoRemoteElement]</code></div><div class="col-sm-3 wrap"><small><strong>HTMLVideoElement</strong></small></div><div class="col-sm-5">Pass in an optional html video element to have remote
video attached to it.</div></div><br class="visible-xs"><br><br></div><div id="startPhoneCall" class="comment"><h3><a href="#startPhoneCall"><span class="bold">startPhoneCall(params)</span></a></h3><p><strong>returns<code>respoke.Call</code></strong></p><div><p>Place an audio call with a phone number.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.number</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The phone number that should be called.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLocalMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onLocalMedia</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onError</strong></small></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onConnect]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onConnect</strong></small></div><div class="col-sm-5">Callback for receiving an HTML5 Video element
with the remote audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAllow]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAllow</strong></small></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onHangup]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onHangup</strong></small></div><div class="col-sm-5">Callback for being notified when the call has been hung
up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMute]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onMute</strong></small></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onAnswer]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onAnswer</strong></small></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onApprove]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onApprove</strong></small></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onRequestingMedia]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Call.onRequestingMedia</strong></small></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onStats]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.MediaStatsParser.statsHandler</strong></small></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.receiveOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.sendOnly]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.forceTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.disableTurn]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><br><br></div><div id="isConnected" class="comment"><h3><a href="#isConnected"><span class="bold">isConnected()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Check whether this client is connected to the Respoke API.</p>
</div><br><br></div><div id="join" class="comment"><h3><a href="#join"><span class="bold">join(params)</span></a></h3><p><strong>returns<code>Promise&lt;respoke.Group&gt;|undefined</code></strong></p><p><strong>fires</strong><code>join</code></p><div><p>Join a group and begin keeping track of it.</p>
<p>You can leave the group by calling <code>group.leave()</code>;</p>
<h5 id="joining-and-leaving-a-group">Joining and leaving a group</h5>
<pre><code> var group;

 client.join({
     id: &quot;book-club&quot;,
     onSuccess: function (evt) {
         console.log(&#39;I joined&#39;, evt.group.id);
         // &quot;I joined book-club&quot;
         group = evt.group;
         group.sendMessage({
             message: &#39;sup&#39;
         });
     }
 });

 // . . .
 // Some time later, leave the group.
 // . . .
 group.leave({
     onSuccess: function (evt) {
         console.log(&#39;I left&#39;, evt.group.id);
         // &quot;I left book-club&quot;
     }
 });
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.id</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">The name of the group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onSuccess]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.joinHandler</strong></small></div><div class="col-sm-5">Success handler for this invocation of
this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Client.errorHandler</strong></small></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMessage]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Group.onMessage</strong></small></div><div class="col-sm-5">Message handler for messages from this group only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onJoin]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Group.onJoin</strong></small></div><div class="col-sm-5">Join event listener for endpoints who join this group only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLeave]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Group.onLeave</strong></small></div><div class="col-sm-5">Leave event listener for endpoints who leave
this group only.</div></div><br class="visible-xs"><br><br></div><div id="getGroups" class="comment"><h3><a href="#getGroups"><span class="bold">getGroups()</span></a></h3><p><strong>returns<code>Array&lt;respoke.Group&gt;</code></strong></p><div><p>Get a list of all the groups the client is currently a member of.</p>
</div><br><br></div><div id="getGroup" class="comment"><h3><a href="#getGroup"><span class="bold">getGroup(params)</span></a></h3><p><strong>returns<code>respoke.Group|undefined</code></strong></p><div><p>Find a group by id and return it.</p>
<pre><code>var group = client.getGroup({
    id: &quot;resistance&quot;
});
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.id</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onJoin]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Group.onJoin</strong></small></div><div class="col-sm-5">Receive notification that an endpoint has joined this group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLeave]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Group.onLeave</strong></small></div><div class="col-sm-5">Receive notification that an endpoint has left this group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMessage]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Group.onMessage</strong></small></div><div class="col-sm-5">Receive notification that a message has been
received to a group.</div></div><br class="visible-xs"><br><br></div><div id="getEndpoint" class="comment"><h3><a href="#getEndpoint"><span class="bold">getEndpoint(params)</span></a></h3><p><strong>returns<code>respoke.Endpoint</code></strong></p><div><p>Find an endpoint by id and return the <code>respoke.Endpoint</code> object.</p>
<p>If it is not already cached locally, will be added to the local cache of tracked endpoints,
its presence will be determined, and will be available in <code>client.getEndpoints()</code>.</p>
<pre><code>var endpoint = client.getEndpoint({
    id: &quot;dlee&quot;
});
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.id</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMessage]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Endpoint.onMessage</strong></small></div><div class="col-sm-5">Handle messages sent to the logged-in user
from this one Endpoint.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onPresence]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Endpoint.onPresence</strong></small></div><div class="col-sm-5">Handle presence notifications from this one
Endpoint.</div></div><br class="visible-xs"><br><br></div><div id="getConnection" class="comment"><h3><a href="#getConnection"><span class="bold">getConnection(params)</span></a></h3><p><strong>returns<code>respoke.Connection</code></strong></p><div><p>Find a Connection by id and return it.</p>
<pre><code>var connection = client.getConnection({
    id: &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXXX&quot;
});
</code></pre></div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>params.connectionId</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.endpointId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5">An endpointId to use in the creation of this connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMessage]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Endpoint.onMessage</strong></small></div><div class="col-sm-5">Handle messages sent to the logged-in user
from this one Connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onPresence]</code></div><div class="col-sm-3 wrap"><small><strong>respoke.Endpoint.onPresence</strong></small></div><div class="col-sm-5">Handle presence notifications from this one
Connection.</div></div><br class="visible-xs"><br><br></div><div id="getEndpoints" class="comment"><h3><a href="#getEndpoints"><span class="bold">getEndpoints()</span></a></h3><p><strong>returns<code>Array&lt;respoke.Endpoint&gt;</code></strong></p><div><p>Get the list of <strong>all endpoints</strong> that the library has knowledge of.
These are <code>respoke.Endpoint</code> objects, not just the endpointIds.</p>
<p>The library gains knowledge of an endpoint in two ways:</p>
<ol>
<li>when an endpoint joins a group that the user (currently logged-in endpoint) is a member of (if group presence is enabled)</li>
<li>when an endpoint that the user (currently logged-in endpoint) is watching*</li>
</ol>
<p>*If an endpoint that the library does not know about sends a message to the client, you
can immediately call the <code>client.getEndpoint()</code> method on the sender of the message to enable
watching of the sender&#39;s endpoint.</p>
<pre><code> client.on(&#39;message&#39;, function (data) {
     if (data.endpoint) {
         // start tracking this endpoint.
         client.getEndpoint({ id: data.endpoint.id });
     }
 });
</code></pre></div><br><br></div><div id="respoke" class="comment"><h3><a href="#respoke"><span class="bold">respoke()</span></a></h3><div><p>Copyright 2014, Digium, Inc.
All rights reserved.</p>
<p>This source code is licensed under The MIT License found in the
LICENSE file in the root directory of this source tree.</p>
<p>For all details and documentation:  <a href="https://www.respoke.io">https://www.respoke.io</a></p>
</div><br><br></div><br><br><h2>Events</h2><p>Listen for events on an instance of this class.</p><pre><code>Client
.listen(&quot;event-name&quot;, function (evt) {

})</code></pre><br><div id="event-respoke-Client-connect"><h3><code>event</code> <a href="#event-respoke-Client-connect" class="bold">connect</a></h3><div><p>This event is fired the first time the library connects to the cloud infrastructure.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-error"><h3><code>event</code> <a href="#event-respoke-Client-error" class="bold">error</a></h3><div><p>This event fires only when the initial <code>connect</code> fails.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-call"><h3><code>event</code> <a href="#event-respoke-Client-call" class="bold">call</a></h3><div><p>This event provides notification for when an incoming call is being received.  If the user wishes
to allow the call, <code>evt.call.answer()</code>.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>call</code></div><div class="col-sm-3 wrap"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>endpoint</code></div><div class="col-sm-3 wrap"><strong>respoke.Endpoint</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-direct-connection"><h3><code>event</code> <a href="#event-respoke-Client-direct-connection" class="bold">direct-connection</a></h3><div><p>This event is fired when the local end of the directConnection is available. It still will not be
ready to send and receive messages until the &#39;open&#39; event fires.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>directConnection</code></div><div class="col-sm-3 wrap"><strong>respoke.DirectConnection</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>endpoint</code></div><div class="col-sm-3 wrap"><strong>respoke.Endpoint</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Call</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-leave"><h3><code>event</code> <a href="#event-respoke-Client-leave" class="bold">leave</a></h3><div><p>This event is fired every time the client leaves a group.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>group</code></div><div class="col-sm-3 wrap"><strong>respoke.Group</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-message"><h3><code>event</code> <a href="#event-respoke-Client-message" class="bold">message</a></h3><div><p>A generic message handler when a message was received by the client.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>endpoint</code></div><div class="col-sm-3 wrap"><strong>respoke.Endpoint</strong></div><div class="col-sm-5">If the message was private, this is the Endpoint who sent it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>group</code></div><div class="col-sm-3 wrap"><strong>respoke.Group</strong></div><div class="col-sm-5">If the message was to a group, this is the group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>message</code></div><div class="col-sm-3 wrap"><strong>respoke.TextMessage</strong></div><div class="col-sm-5">The generic message object.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>message.connectionId</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>message.endpointId</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>message.message</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">Message body text.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-disconnect"><h3><code>event</code> <a href="#event-respoke-Client-disconnect" class="bold">disconnect</a></h3><div><p>Client has disconnected from Respoke.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-reconnect"><h3><code>event</code> <a href="#event-respoke-Client-reconnect" class="bold">reconnect</a></h3><div><p>Client has reconnected to Respoke.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">The event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-disconnect"><h3><code>event</code> <a href="#event-respoke-Client-disconnect" class="bold">disconnect</a></h3><div><p>This event is fired when the library has disconnected from the cloud infrastructure.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>target</code></div><div class="col-sm-3 wrap"><strong>respoke.Client</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="event-respoke-Client-join"><h3><code>event</code> <a href="#event-respoke-Client-join" class="bold">join</a></h3><div><p>This event is fired every time the client joins a group. If the client leaves
a group, this event will be fired again on the next time the client joins the group.</p>
</div><br><h4>Callback Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>group</code></div><div class="col-sm-3 wrap"><strong>respoke.Group</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>name</code></div><div class="col-sm-3 wrap"><strong>string</strong></div><div class="col-sm-5">the event name.</div></div><br class="visible-xs"><br><br></div><br><br><br><br><br><br><br><br><br><br><br></div><script>hljs.initHighlightingOnLoad();
$(document).on('scroll', setSidebarPosition);
$(window).on('resize', setSidebarPosition);
$('#file-menu').on('click', function () {
  setTimeout(setSidebarPosition, 350);
});
function setSidebarPosition() {
  var s = $(document).scrollTop();
  var h = $('#header').height();
  if (s < h) {
      $('#navi').css('top', ((h - s) + 8) + 'px');
  } else {
      $('#navi').css('top', '0');
  }
}
setSidebarPosition();</script></body></html>